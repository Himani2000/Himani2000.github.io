<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Week-6</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet">

    <link rel="stylesheet" href="css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="css/animate.css">
    
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <link rel="stylesheet" href="css/owl.theme.default.min.css">
    <link rel="stylesheet" href="css/magnific-popup.css">

    <link rel="stylesheet" href="css/aos.css">

    <link rel="stylesheet" href="css/ionicons.min.css">
    
    <link rel="stylesheet" href="css/flaticon.css">
    <link rel="stylesheet" href="css/icomoon.css">
    <link rel="stylesheet" href="css/style.css">
  <style type="text/css">
    
    p {
  text-align: justify;
  color:black;
}
li{
  text-align: justify;
  color:black;  

}
 a:hover {
  background-color: yellow;
  color:blue;
}
.gist-container {
 
    height: 300px;
    overflow-y: scroll;
    overflow-x:hidden;
}
* {box-sizing: border-box}
.mySlides1, .mySlides2 {display: none}
img {vertical-align: middle;}

/* Slideshow container */
.slideshow-container {
  max-width: 1000px;
  position: relative;
  margin: auto;
}

/* Next & previous buttons */
.prev, .next {
  cursor: pointer;
  position: absolute;
  top: 50%;
  width: auto;
  padding: 16px;
  margin-top: -22px;
  color: white;
  font-weight: bold;
  font-size: 18px;
  transition: 0.6s ease;
  border-radius: 0 3px 3px 0;
  user-select: none;
}

/* Position the "next button" to the right */
.next {
  right: 0;
  border-radius: 3px 0 0 3px;
}

/* On hover, add a grey background color */
.prev:hover, .next:hover {
  background-color: #f1f1f1;
  color: black;
}
table {
  border-collapse: collapse;
  width: 100%;
}

th, td {
  padding: 8px;
  text-align: left;
  border-bottom: 1px solid #ddd;
}
th{
  background-color:#57fffc;
}

tr:hover {background-color:#9ef7f6;}
  </style>
  </head>

  <body>
    
    <nav class="navbar px-md-0 navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
      <div class="container">
        <a class="navbar-brand" href="index.html">GSOC2020<i></i> week-6 coding period</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav" aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="oi oi-menu"></span> Menu
        </button>

        <div class="collapse navbar-collapse" id="ftco-nav">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item"><a href="index.html" class="nav-link">Home</a></li>
          
          </ul>
        </div>
      </div>
    </nav>
    <!-- END nav -->
    

   <section class="ftco-section ftco-degree-bg">
      <div class="container">
        <div class="row">
          <div class="col-lg-9 ftco-animate">
            <p class="mb-5">
              <img src="https://dzone.com/storage/temp/12334613-971.jpg" alt="" class="img-fluid">
              <p style="color:black;padding-right: 10px;padding-left: 10px;padding-top: 10px;padding-left: 10px">
              Lets get started with week-6
              </p>
   </div> <!-- .col-md-8 -->
          <div class="col-lg-3 sidebar pl-lg-5 ftco-animate">
         <div class="sidebar-box ftco-animate">
              <h3>Recent Blog</h3>
              <div class="block-21 mb-4 d-flex">
                <a class="blog-img mr-4" style="background-image: url(images/blog_one.png);"></a>
                <div class="text">
                  <h3 class="heading"><a href="blog-single.html">Week 1 -Setting up the CRWU-HPC</a></h3>
                  <div class="meta">
                    <div><a href="#"><span class="icon-calendar"></span> 8/5/2020</a></div>
                    
                  </div>
                </div>
              </div>
              <div class="block-21 mb-4 d-flex">
                <a class="blog-img mr-4" style="background-image: url(images/blog_second.jpg);"></a>
                <div class="text">
                  <h3 class="heading"><a href="blog_second.html">Week 2 -Setting up Singularity container</a></h3>
                  <div class="meta">
                    <div><a href="#"><span class="icon-calendar"></span> 15/5/2020</a></div>
                   
                  </div>
                </div>
              </div>
             
            </div>


           
          </div>

      </div>
    </section> <!-- .section -->




   <section >
      <div class="container" style="padding-left: 60px;padding-right: 60px">
        <div class="row">
          <div class="col-lg-12 ftco-animate">
        
        <p style="color:black;padding-right: 10px;padding-left: 10px;padding-top: 10px;padding-left: 10px">
          My mentor and I decided the  <b>tasks</b> for this week given as  :<br>
          <ul>
          <li>1. Automating the results generation  and the complete clustering task till now</li>
          <li>2. Running the models in the crop version of the images</li>
          <li>3. Starting with the image duplicacy </li>
</ul>
</p><p style="color:black;padding-right: 10px;padding-left: 10px;padding-top: 10px;padding-left: 10px">
		<b>Section-1 Automating the results generation  and the complete clustering task till now</b>
		The first task for this week was to automate the clustering task till the result generation step. My mentor suggested a great idea for the generation step, which is instead of saving the pdf of all the models let us save all text files containing the number of clusters found for(flynn, trump , khewsis ) for example and put a filter such as if the number of clusters are greater than 2200 and less than 30 , flynn clusters more than 5, trump clusters more than 4 and khwesis clusters more than 3 then not save the pdf. <br><br>

		The python script can be found here <br><a style="color:blue" href="https://github.com/Himani2000/GSOC_2020/blob/master/Image_clustering/image_results_utils.py">https://github.com/Himani2000/GSOC_2020/blob/master/Image_clustering/image_results_utils.py</a><br>



		The  automation of all the clustering methods can be found in this shell script,<br>
		<a style="color:blue" href="https://github.com/Himani2000/GSOC_2020/blob/master/clustering-models/clustering_shell.sh">https://github.com/Himani2000/GSOC_2020/blob/master/clustering-models/clustering_shell.sh</a>


		<br>

		To my surprise out of around 120 models files , 3 passed the filter and those  text and pdf files  were: <br>

		1. text file:<a  style="color:blue"href="ideology_model_mobilenet-pca-tsne_dbscan_labels.txt">ideology_model_mobilenet-pca-tsne_dbscan_labels.txt</a><br>
		   pdf file:<a style="color:blue" href="https://drive.google.com/file/d/1Vl-wKg1RUN-w3WRkB1oMr6fV85lo9T-Q/view?usp=sharing">ideology_model_mobilenet-pca-tsne_dbscan_labels.pdf</a><br>
		   <br><br>
		2. text file:<a style="color:blue"  href="ideology_model_resnet50-umap_dbscan_labels.txt">ideology_model_resnet50-umap_dbscan_labels.txt</a><br>
		   pdf file:<a style="color:blue" href="https://drive.google.com/file/d/19MXmYWP5s3tR1fwNPgggS7et-DCze_FI/view?usp=sharing">ideology_model_resnet50-umap_dbscan_labels.pdf</a><br>
		   <br><br>
		3. text file:<a style="color:blue" href="ideology_model_resnet50-umap_mean_shift_labels.txt">ideology_model_resnet50-umap_mean_shift_labels.txt</a><br>
		   pdf file: <a style="color:blue" href="https://drive.google.com/file/d/1UHRxFDQb139FtLbu2ldef1_iVuJZ7wL6/view?usp=sharing">ideology_model_resnet50-umap_mean_shift_labels.pdf</a><br>
      	<br><br>

      	<b>Section -2 Running the models in the crop version of the images</b>

      	The main aim was to crop the headings from the images, since the heading comes at  bottom we can simply cut some part from the bottom ,we crop  30 % of the image from  bottom. In this way headings were removed from all the images.<br>

      	The <b>cropped </b>version :<br>
      	<img src="images/cropped.png" height="500" width="500"><br><br>

      	and the<b> uncropped </b>version:<br>
      	<img src="images/uncropped.png" height="500" width="500"><br><br>

      	<br><br>

      	As we can see the headlines are removed almost clearly on most of the images.<br>

      	To my surprise <b>NONE </b> of the models passed the filter for the cropped  images, this was not expected but we noticed that for the crop images the clusters were more sensitive .<br><br>

      	The complete text files can be found at <a style="color:blue"  href="crop_concatenated_text_file.txt">crop_concatenated_text_file.txt</a>

      	<br>

         <b>Section -3 Starting with the image duplicacy </b>
         	The aim was to try the image duplicacy methods to see if the same images are found. This is not directly related to image clustering but we thought to try this method  to analyse the results.<br>

         	Image duplicacy problems are solved using the image hashing techniques , in which perceptual hash algorithms describe a class of comparable hash functions. Features in the image are used to generate a distinct (but not unique) fingerprint, and these fingerprints are comparable. There are several image hashing algoritgms : <br>
         	a) Average hashing (aHash) <br>
			b)Perceptual hashing (pHash)<br>
			c)Difference hashing (dHash)<br>
			d)Wavelet hashing (wHash)<br>
			
			The implementation of all these algorithms are provided in the imagehash library(python)<br>
			<a style="color:blue"  href="https://github.com/JohannesBuchner/imagehash">https://github.com/JohannesBuchner/imagehash</a><br>

			I came up with the two possible approaches 1)with and 2)Without threshold <br>
			1. In the first method , I simply computed the hash using the above mentioned hashing techniques  and check if the hashes are similar then the images are similar (near duplicates )<br>
			For the normal images ::<br>
			<a style="color:blue" href="ideology_image_dataset_avergae_hash.pdf">ideology_image_dataset_avergae_hash.pdf</a><br>
			<a style="color:blue" href="ideology_image_dataset_d_hash.pdf">ideology_image_dataset_d_hash.pdf</a><br>
			<a style="color:blue" href="ideology_image_dataset_p_hash.pdf">ideology_image_dataset_p_hash.pdf</a><br>
			<a style="color:blue" href="ideology_image_dataset_w_hash.pdf">ideology_image_dataset_w_hash.pdf</a><br>

			For the cropped images ::<br>
			
			<a style="color:blue" href="ideology_crop_image_dataset_avergae_hash.pdf">ideology_crop_image_dataset_avergae_hash.pdf</a><br>
			<a style="color:blue" href="ideology_crop_image_dataset_d_hash.pdf">ideology_crop_image_dataset_d_hash.pdf</a><br>
			<a style="color:blue" href="ideology_crop_image_dataset_p_hash.pdf">ideology_crop_image_dataset_p_hash.pdf</a><br>
			<a style="color:blue" href="ideology_crop_image_dataset_w_hash.pdf">ideology_crop_image_dataset_w_hash.pdf</a><br>


			The code can be found here <br>
			<a style="color:blue"href="https://github.com/Himani2000/GSOC_2020/blob/master/Image_hashing/image_hashing.py">https://github.com/Himani2000/GSOC_2020/blob/master/Image_hashing/image_hashing.py</a><br>

			2.I did not find the results good as some are too sensitive i.e exact duplicates so I went with the second method that is the image hashing with the threshold, which is more like a <b>image search engine technique</b>, basically  I computed the image hashes for all the images , then arrange them in the tree manner (VP-tree) to make the run time complexity from linear (O(n)) to O(logn). Then I pass the query image, computed the hash for the query image and pass the threshold  (hamming distance ) that searches upto that distance in the vp-tree, the hamming distance is the number of bits that differes in both the hashes 
			<br>

			<b>Testing the model in the cropped images </b> <br>
			Suppose I pass one of the images of <b>flyn as a query images</b> , I passed the threshold as 12 (hamming distance) then I got :<br>
			1. For the ahash <br>
			<img src="images/crop_ahash_flyn.png" width="700" height="600"><br><br>

			2.For the phash<br>
			resulted images less than 10 :( <br>
			3.For the dhash<br>
			resuled images less than 10 :(<br>


			4. For the whash<br>
			<img src="images/crop_whash_flyn.png" width="700" height="600"><br><br>





      </p>  
   
       </div> <!-- .col-md-8 -->
          
        </div>
      </div>
    </section>







  <!-- loader -->
  <div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px"><circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/><circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#F96D00"/></svg></div>


  <script src="js/jquery.min.js"></script>
  <script src="js/jquery-migrate-3.0.1.min.js"></script>
  <script src="js/popper.min.js"></script>
  <script src="js/bootstrap.min.js"></script>
  <script src="js/jquery.easing.1.3.js"></script>
  <script src="js/jquery.waypoints.min.js"></script>
  <script src="js/jquery.stellar.min.js"></script>
  <script src="js/owl.carousel.min.js"></script>
  <script src="js/jquery.magnific-popup.min.js"></script>
  <script src="js/aos.js"></script>
  <script src="js/jquery.animateNumber.min.js"></script>
  <script src="js/scrollax.min.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
  <script src="js/google-map.js"></script>
  <script src="js/main.js"></script>
   <script>
var slideIndex = [1,1];
var slideId = ["mySlides1", "mySlides2"]
showSlides(1, 0);
showSlides(1, 1);

function plusSlides(n, no) {
  showSlides(slideIndex[no] += n, no);
}

function showSlides(n, no) {
  var i;
  var x = document.getElementsByClassName(slideId[no]);
  if (n > x.length) {slideIndex[no] = 1}    
  if (n < 1) {slideIndex[no] = x.length}
  for (i = 0; i < x.length; i++) {
     x[i].style.display = "none";  
  }
  x[slideIndex[no]-1].style.display = "block";  
}
</script>
  </body>
</html>